FILE
  MoveModuleDefImpl(MODULE_DEF)
    PsiElement(module)('module')
    PsiWhiteSpace(' ')
    PsiElement(identifier)('M')
    PsiWhiteSpace(' ')
    MoveModuleBlockImpl(MODULE_BLOCK)
      PsiElement({)('{')
      PsiWhiteSpace('\n    ')
      MoveSpecDefImpl(SPEC_DEF)
        PsiElement(spec)('spec')
        PsiWhiteSpace(' ')
        MoveModuleSpecImpl(MODULE_SPEC)
          PsiElement(module)('module')
          PsiWhiteSpace(' ')
          MoveSpecBlockImpl(SPEC_BLOCK)
            PsiElement({)('{')
            PsiWhiteSpace('\n        ')
            MoveApplyStatementImpl(APPLY_STATEMENT)
              PsiElement(apply)('apply')
              PsiWhiteSpace(' ')
              MoveApplySchemaNameImpl(APPLY_SCHEMA_NAME)
                MoveQualifiedPathImpl(QUALIFIED_PATH)
                  PsiElement(identifier)('Foo')
                  MoveTypeArgumentListImpl(TYPE_ARGUMENT_LIST)
                    PsiElement(<)('<')
                    MoveTypeReferenceImpl(TYPE_REFERENCE)
                      MoveQualifiedPathImpl(QUALIFIED_PATH)
                        PsiElement(identifier)('S')
                    PsiElement(>)('>')
              PsiWhiteSpace(' ')
              PsiElement(to)('to')
              PsiWhiteSpace(' ')
              MoveFunctionPatternImpl(FUNCTION_PATTERN)
                PsiElement(FUNCTION_PATTERN_NAME)('t')
              PsiElement(;)(';')
            PsiWhiteSpace('\n        ')
            MoveApplyStatementImpl(APPLY_STATEMENT)
              PsiElement(apply)('apply')
              PsiWhiteSpace(' ')
              MoveApplySchemaNameImpl(APPLY_SCHEMA_NAME)
                MoveQualifiedPathImpl(QUALIFIED_PATH)
                  PsiElement(identifier)('ExactlyOne')
              PsiWhiteSpace(' ')
              PsiElement(to)('to')
              PsiWhiteSpace(' ')
              MoveFunctionPatternImpl(FUNCTION_PATTERN)
                PsiElement(FUNCTION_PATTERN_NAME)('*')
              PsiWhiteSpace(' ')
              PsiElement(except)('except')
              PsiWhiteSpace(' ')
              MoveFunctionPatternImpl(FUNCTION_PATTERN)
                PsiElement(FUNCTION_PATTERN_NAME)('initialize')
              PsiElement(;)(';')
            PsiWhiteSpace('\n        ')
            MoveApplyStatementImpl(APPLY_STATEMENT)
              PsiElement(apply)('apply')
              PsiWhiteSpace(' ')
              MoveApplySchemaNameImpl(APPLY_SCHEMA_NAME)
                MoveQualifiedPathImpl(QUALIFIED_PATH)
                  PsiElement(identifier)('ModuleInvariant')
                  MoveTypeArgumentListImpl(TYPE_ARGUMENT_LIST)
                    PsiElement(<)('<')
                    MoveTypeReferenceImpl(TYPE_REFERENCE)
                      MoveQualifiedPathImpl(QUALIFIED_PATH)
                        PsiElement(identifier)('X')
                    PsiElement(,)(',')
                    PsiWhiteSpace(' ')
                    MoveTypeReferenceImpl(TYPE_REFERENCE)
                      MoveQualifiedPathImpl(QUALIFIED_PATH)
                        PsiElement(identifier)('Y')
                    PsiElement(>)('>')
              PsiWhiteSpace(' ')
              PsiElement(to)('to')
              PsiWhiteSpace(' ')
              MoveFunctionPatternImpl(FUNCTION_PATTERN)
                PsiElement(FUNCTION_PATTERN_NAME)('*foo*')
                MoveTypeArgumentListImpl(TYPE_ARGUMENT_LIST)
                  PsiElement(<)('<')
                  MoveTypeReferenceImpl(TYPE_REFERENCE)
                    MoveQualifiedPathImpl(QUALIFIED_PATH)
                      PsiElement(identifier)('Y')
                  PsiElement(,)(',')
                  PsiWhiteSpace(' ')
                  MoveTypeReferenceImpl(TYPE_REFERENCE)
                    MoveQualifiedPathImpl(QUALIFIED_PATH)
                      PsiElement(identifier)('X')
                  PsiElement(>)('>')
              PsiElement(;)(';')
            PsiWhiteSpace('\n        ')
            MoveApplyStatementImpl(APPLY_STATEMENT)
              PsiElement(apply)('apply')
              PsiWhiteSpace(' ')
              MoveApplySchemaNameImpl(APPLY_SCHEMA_NAME)
                MoveQualifiedPathImpl(QUALIFIED_PATH)
                  PsiElement(identifier)('EnsuresHasKeyRotationCap')
                PsiWhiteSpace(' ')
                PsiElement({)('{')
                PsiWhiteSpace(' ')
                MoveApplySchemaNameAttributeImpl(APPLY_SCHEMA_NAME_ATTRIBUTE)
                  PsiElement(identifier)('account')
                  PsiElement(:)(':')
                  PsiWhiteSpace(' ')
                  MoveRefExprImpl(REF_EXPR)
                    MoveQualifiedPathImpl(QUALIFIED_PATH)
                      PsiElement(identifier)('new_account')
                PsiWhiteSpace(' ')
                PsiElement(})('}')
              PsiWhiteSpace(' ')
              PsiElement(to)('to')
              PsiWhiteSpace(' ')
              MoveFunctionPatternImpl(FUNCTION_PATTERN)
                PsiElement(FUNCTION_PATTERN_NAME)('make_account')
              PsiElement(;)(';')
            PsiWhiteSpace('\n        ')
            PsiWhiteSpace('\n    ')
            PsiElement(})('}')
      PsiWhiteSpace('\n')
      PsiElement(})('}')